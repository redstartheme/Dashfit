<div class="dialogContainer">
  <div class="modalHeader">
    <div class="avatarDetails">
      <label class="hoverable" for="tableFileInput">
        <img [src]="url ? url : leaveBalance.img" alt="image">
        <div class="hover-text">Upload</div>
        <div class="background"></div>
      </label>
      <input id="tableFileInput" type='file' (change)="onSelectFile($event)">
      <div class="modalTitle">
        {{dialogTitle}}
      </div>
    </div>
    <button mat-icon-button (click)="dialogRef.close()" class="modal-close-button" aria-label="Close dialog">
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <div mat-dialog-content>
    <form class="form-field-full" [formGroup]="leaveBalanceForm">
      <div class="row m-b-24">
        <div class="col-sm-6">
          <mat-form-field class="example-full-width" appearance="outline" subscriptSizing="dynamic">
            <mat-label>Employee ID</mat-label>
            <input matInput formControlName="employeeId" required>
            @if (leaveBalanceForm.get('employeeId')?.hasError('required') && leaveBalanceForm.get('employeeId')?.touched) {
              <mat-error
                >
                Employee ID is required
              </mat-error>
            }
          </mat-form-field>
        </div>
        <div class="col-sm-6">
          <mat-form-field class="example-full-width" appearance="outline" subscriptSizing="dynamic">
            <mat-label>Employee Name</mat-label>
            <input matInput formControlName="employeeName" required>
            @if (leaveBalanceForm.get('employeeName')?.hasError('required') && leaveBalanceForm.get('employeeName')?.touched) {
              <mat-error
                >
                Employee Name is required
              </mat-error>
            }
          </mat-form-field>
        </div>
      </div>
      <div class="row m-b-24">
        <div class="col-sm-6">
          <mat-form-field class="example-full-width" appearance="outline" subscriptSizing="dynamic">
            <mat-label>Department</mat-label>
            <input matInput formControlName="department" required>
            @if (leaveBalanceForm.get('department')?.hasError('required') && leaveBalanceForm.get('department')?.touched) {
              <mat-error
                >
                Department is required
              </mat-error>
            }
          </mat-form-field>
        </div>
        <div class="col-sm-6">
          <mat-form-field class="example-full-width" appearance="outline" subscriptSizing="dynamic">
            <mat-label>Designation</mat-label>
            <input matInput formControlName="designation">
          </mat-form-field>
        </div>
      </div>
      <div class="row m-b-24">
        <div class="col-sm-6">
          <mat-form-field class="example-full-width" appearance="outline" subscriptSizing="dynamic">
            <mat-label>Leave Type</mat-label>
            <mat-select formControlName="leaveType" required>
              <mat-option value="Sick Leave">Sick Leave</mat-option>
              <mat-option value="Annual Leave">Annual Leave</mat-option>
              <mat-option value="Medical Leave">Medical Leave</mat-option>
              <mat-option value="Personal Leave">Personal Leave</mat-option>
            </mat-select>
            @if (leaveBalanceForm.get('leaveType')?.hasError('required') && leaveBalanceForm.get('leaveType')?.touched) {
              <mat-error
                >
                Leave Type is required
              </mat-error>
            }
          </mat-form-field>
        </div>
        <div class="col-sm-6">
          <mat-form-field class="example-full-width" appearance="outline" subscriptSizing="dynamic">
            <mat-label>Total Entitlement</mat-label>
            <input matInput formControlName="totalEntitlement" required>
            @if (leaveBalanceForm.get('totalEntitlement')?.hasError('required') && leaveBalanceForm.get('totalEntitlement')?.touched) {
              <mat-error
                >
                Total Entitlement is required
              </mat-error>
            }
          </mat-form-field>
        </div>
      </div>
      <div class="row m-b-24">
        <div class="col-sm-6">
          <mat-form-field class="example-full-width" appearance="outline" subscriptSizing="dynamic">
            <mat-label>Leave Taken</mat-label>
            <input matInput formControlName="leaveTaken" required>
            @if (leaveBalanceForm.get('leaveTaken')?.hasError('required') && leaveBalanceForm.get('leaveTaken')?.touched) {
              <mat-error
                >
                Leave Taken is required
              </mat-error>
            }
          </mat-form-field>
        </div>
        <div class="col-sm-6">
          <mat-form-field class="example-full-width" appearance="outline" subscriptSizing="dynamic">
            <mat-label>Leave Balance</mat-label>
            <input matInput formControlName="leaveBalance" required>
            @if (leaveBalanceForm.get('leaveBalance')?.hasError('required') && leaveBalanceForm.get('leaveBalance')?.touched) {
              <mat-error
                >
                Leave Balance is required
              </mat-error>
            }
          </mat-form-field>
        </div>
      </div>
      <div class="row m-b-24">
        <div class="col-sm-6">
          <mat-form-field class="example-full-width" appearance="outline" subscriptSizing="dynamic">
            <mat-label>Carry Forward</mat-label>
            <input matInput formControlName="carryForward">
          </mat-form-field>
        </div>
        <div class="col-sm-6">
          <mat-form-field class="example-full-width" appearance="outline" subscriptSizing="dynamic">
            <mat-label>Accrual Rate</mat-label>
            <input matInput formControlName="accrualRate">
          </mat-form-field>
        </div>
      </div>
      <div class="row m-b-24">
        <div class="col-sm-12">
          <mat-form-field class="example-full-width" appearance="outline" subscriptSizing="dynamic">
            <mat-label>Notes</mat-label>
            <textarea matInput formControlName="notes" rows="4"></textarea>
          </mat-form-field>
        </div>
      </div>
      <div class="row m-b-24">
        <div class="col-sm-12">
          <div class="example-button-row">
            <button mat-raised-button color="primary" [disabled]="!leaveBalanceForm.valid"
            (click)="submit()">Save</button>
            <button mat-raised-button color="warn" (click)="onNoClick()" tabindex="-1" type="button">Cancel</button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>